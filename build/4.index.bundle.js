(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[4],{

/***/ "./src/components/users/Form.js":
/*!**************************************!*\
  !*** ./src/components/users/Form.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Form; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hook-form */ \"./node_modules/react-hook-form/dist/index.esm.js\");\n/* harmony import */ var _utils_useSState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/useSState */ \"./src/utils/useSState.js\");\n/* harmony import */ var react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap/Button */ \"./node_modules/react-bootstrap/esm/Button.js\");\n/* harmony import */ var react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap/Container */ \"./node_modules/react-bootstrap/esm/Container.js\");\n/* harmony import */ var react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-bootstrap/Row */ \"./node_modules/react-bootstrap/esm/Row.js\");\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap/Col */ \"./node_modules/react-bootstrap/esm/Col.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _Message__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Message */ \"./src/components/users/Message.js\");\n\n\n\n\n\n\n\n\n //import '../../App.css'\n\nlet renderCount = 0;\nfunction Form(props) {\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors\n  } = Object(react_hook_form__WEBPACK_IMPORTED_MODULE_1__[\"useForm\"])();\n  renderCount++;\n\n  const onSubmit = async data => {\n    let user = {\n      id: props.user.id,\n      public_id: data.public_id,\n      nome: data.nome,\n      email: data.email,\n      is_admin: false,\n      active: false,\n      lembre_me: false,\n      authenticated: false,\n      password: '123456',\n      posto_id: data.posto_id,\n      perfil: data.perfil\n    };\n    const result = await salvar(user);\n    console.log(data); //return(result)\n  };\n\n  const [values, handleChange] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(props.user.attributes);\n  const [postos, setPostos] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])([]);\n  const [perfis, setPerfis] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])([]);\n  const [userPerfis, setUserPerfis] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])([]);\n  const [mensagem, setMensagem] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])('');\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    async function fetchUserPerfis() {\n      const response2 = await axios__WEBPACK_IMPORTED_MODULE_7___default()('http://localhost:3000/api/v1/perfis');\n      setPerfis(response2.data.data);\n      const response = await axios__WEBPACK_IMPORTED_MODULE_7___default()(`http://localhost:3000/api/v1/perfis/user/${props.user.id}`);\n      setUserPerfis(response.data.data);\n    }\n\n    fetchUserPerfis();\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    async function fetchPostos() {\n      const response = await axios__WEBPACK_IMPORTED_MODULE_7___default()('http://localhost:3000/api/v1/postos');\n      setPostos(response.data.data);\n    }\n\n    fetchPostos();\n  }, []);\n\n  const salvar = async user => {\n    let response = await fetch('http://localhost:3000/api/v1/users', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    });\n    let result = await response.json(); //setMensagem(`{Usuário {user.id} salvo com sucesso!!}`);\n\n    return result;\n  };\n\n  function handlePerfil(perfil) {\n    var copyUserPerfis = userPerfis;\n\n    if (JSON.stringify(userPerfis).includes(JSON.stringify(perfil))) {\n      /** Remove o perfil */\n      let i = JSON.stringify(copyUserPerfis).indexOf(JSON.stringify(perfil));\n      var novo = copyUserPerfis.splice(i, 1);\n      setUserPerfis(novo);\n    } else {\n      /** Insere o perfil */\n      var l = copyUserPerfis.push(perfil); //console.log(l)\n\n      setUserPerfis(copyUserPerfis);\n    }\n  }\n\n  if (perfis.length > 0) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Message__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      mensagem: mensagem\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      className: \"justify-content-md-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h5\", null, \"Usu\\xE1rio\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n      onSubmit: handleSubmit(onSubmit)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      className: \"justify-content-md-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 3\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, \"Nome:\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 7\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n      type: \"text\",\n      value: values.nome,\n      onChange: handleChange,\n      className: \"form-control\",\n      name: \"nome\",\n      placeholder: \"nome completo\",\n      ref: register({\n        required: 'Nome é obrigatório!!',\n        minLength: {\n          value: 15,\n          message: 'Nome muito curto!!'\n        }\n      })\n    }), errors.nome && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, errors.nome.message))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      className: \"justify-content-md-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 3\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, \"Nome de Usu\\xE1rio:\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 7\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n      type: \"text\",\n      value: values.public_id,\n      onChange: handleChange,\n      className: \"form-control\",\n      name: \"public_id\",\n      placeholder: \"nome de usuario\",\n      ref: register({\n        required: 'Nome de usuário é obrigatório!!',\n        maxLength: {\n          value: 11,\n          message: 'Nome de usuário muito longo'\n        }\n      })\n    }), errors.public_id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, errors.public_id.message))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      className: \"justify-content-md-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 3\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, \"Email:\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 7\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"email\",\n      value: values.email,\n      onChange: handleChange,\n      name: \"email\",\n      placeholder: \"email\",\n      ref: register({\n        required: 'Email é obrigatório!!'\n      })\n    }), errors.email && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, errors.email.message))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      className: \"justify-content-md-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 3\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, \"Posto:\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 7\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"posto_id\",\n      ref: register({\n        required: 'Posto é obrigatório!!'\n      }),\n      value: values.posto_id,\n      onChange: handleChange\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"option\", {\n      value: \"\",\n      key: \"\"\n    }, \"Selecionar\"), postos.map(posto => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"option\", {\n      value: posto.data.id,\n      key: posto.data.id\n    }, posto.data.attributes.nome))), errors.posto_id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, errors.posto_id.message))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      className: \"justify-content-md-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 3\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, \"Perfil:\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 7\n    }, perfis.map(perfil => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: perfil.data.id,\n      className: \"form-check\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n      className: \"form-check-label\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n      type: \"checkbox\",\n      checked: JSON.stringify(userPerfis).includes(JSON.stringify(perfil)),\n      className: \"form-check-input\",\n      name: `perfil[${perfil.data.id - 1}]`,\n      ref: register(),\n      onChange: handleChange,\n      onClick: () => handlePerfil(perfil)\n    }), perfil.data.attributes.nome))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Render Counter: \", renderCount), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      className: \"justify-content-md-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 9,\n      id: \"mensa\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      md: 1,\n      className: \"justify-content-md-right\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      type: \"submit\",\n      variant: \"primary\",\n      size: \"sm\",\n      active: true\n    }, \"Salvar\")))));\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Render Counter:\", renderCount);\n  }\n}\n\n//# sourceURL=webpack:///./src/components/users/Form.js?");

/***/ }),

/***/ "./src/components/users/Message.js":
/*!*****************************************!*\
  !*** ./src/components/users/Message.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_flash_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-flash-message */ \"./node_modules/react-flash-message/build/index.js\");\n/* harmony import */ var react_flash_message__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_flash_message__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _App_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../App.css */ \"./src/App.css\");\n/* harmony import */ var _App_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nfunction Message({\n  mensagem\n}) {\n  const [msg, setMsg] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(mensagem);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_flash_message__WEBPACK_IMPORTED_MODULE_2___default.a, {\n    mensagem: msg,\n    duration: 5000\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, msg));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Message);\n\n//# sourceURL=webpack:///./src/components/users/Message.js?");

/***/ }),

/***/ "./src/components/users/Novo.js":
/*!**************************************!*\
  !*** ./src/components/users/Novo.js ***!
  \**************************************/
/*! exports provided: Novo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Novo\", function() { return Novo; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Form */ \"./src/components/users/Form.js\");\n/* harmony import */ var _App_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../App.css */ \"./src/App.css\");\n/* harmony import */ var _App_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nconst Novo = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n  className: \"App\"\n}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"], null)));\n\n\n\n//# sourceURL=webpack:///./src/components/users/Novo.js?");

/***/ }),

/***/ "./src/utils/useSState.js":
/*!********************************!*\
  !*** ./src/utils/useSState.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst uState = () => {\n  const [state, setState] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])({});\n\n  const handleChange = e => {\n    e.persist();\n    setState(state => ({ ...state,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  return [state, handleChange];\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (uState);\n\n//# sourceURL=webpack:///./src/utils/useSState.js?");

/***/ })

}]);